# Generated by Django 4.2.20 on 2025-04-29 18:54


from django.db import migrations

def move_prediction_data(apps, schema_editor):
    Observation = apps.get_model('counter', 'Observation')
    Prediction = apps.get_model('counter', 'Prediction')

    for obs in Observation.objects.filter(prediction__isnull=False):
        pred = obs.prediction
        obs.input_image = pred.input_image
        obs.density_map = pred.density_map
        obs.model_name = pred.model_name
        obs.weight_selection = pred.weight_selection
        obs.save()

def reverse_func(apps, schema_editor):
    pass  # Optional: Implement if you need to reverse

class Migration(migrations.Migration):

    dependencies = [
        ('counter', '0003_migrate_prediction_to_observation'),
    ]

    operations = [
        migrations.RunPython(move_prediction_data, reverse_func),
    ]

